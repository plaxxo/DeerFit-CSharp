@rendermode InteractiveServer
@inject NavigationManager Nav

<div class="hero-dots-container">
    <div class="hero-dots">
        <span class="dot @(IsActive("/") ? "active" : "")" @onclick='() => Nav.NavigateTo("/")' title="Home"></span>
        <span class="dot @(IsActive("/courses") ? "active" : "")" @onclick='() => Nav.NavigateTo("/courses")' title="Training"></span>
        <span class="dot @(IsActive("/bookings") ? "active" : "")" @onclick='() => Nav.NavigateTo("/bookings")' title="Classes"></span>
        <span class="dot @(IsActive("/members") ? "active" : "")" @onclick='() => Nav.NavigateTo("/members")' title="Membership"></span>
    </div>
</div>

@code {
    private bool IsActive(string path)
    {
        var currentPath = new Uri(Nav.Uri).AbsolutePath.TrimEnd('/');
        if (string.IsNullOrEmpty(currentPath)) currentPath = "/";
        
        if (path == "/")
            return currentPath == "/";
        
        return currentPath.StartsWith(path, StringComparison.OrdinalIgnoreCase);
    }
}
